import{H as T,K as O,h as U,u as V,r as d,o as m,c as _,a as i,w as c,F as g,b as t,t as r,i as j,d as I,e as p,v as b,f as x,n as P,g as f}from"./app.dc8eb5b8.js";import{A as L}from"./Admin.6860733d.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import{N as R,d as q,U as A,o as F,f as H}from"./toastify.5ab8cc9b.js";const z={components:{Head:T,AdminLayout:L,Dialog:R,DialogPanel:q,DialogTitle:A,TransitionChild:F,TransitionRoot:H},props:{errors:Object,category_share:Object,products:Object,products_status:Object},data(){return{url2:null,open:!1,point_value:0}},methods:{get_product_status(){let o=this.products_status.map(a=>parseInt(a.products_lost_count)<parseInt(a.gacha_products_count)?` ${a.point} \u30DD\u30A4\u30F3\u30C8\u306E\u30AB\u30FC\u30C9\u304C ${a.gacha_products_count} \u3064\u5FC5\u8981\u3067\u3059\u3002   \u73FE\u5728\u306E\u5728\u5EAB\u6570\u306F ${a.products_lost_count}\u3064\u3067\u3059\u3002
 `:"");console.log(this.products_status);let e="";return o.forEach(a=>{e=e+a}),e},destroy_product_last(o){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&O.Inertia.delete(route("admin.gacha.product_last.destroy",{id:o}))},modalProductOpen(o){o?(this.form_last.last_id=o.id,this.form_last.last_name=o.name,this.form_last.last_point=o.point,this.form_last.last_rare=o.rare,this.form_last.last_marks=o.marks,this.form_last.last_lost_type=o.lost_type,this.form_last.last_image="",this.form_last.is_update=1,this.url2=o.image):(this.form_last.last_id="",this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_marks="",this.form_last.last_lost_type="",this.form_last.last_image="",this.form_last.is_update=0,this.url2=""),this.open=!0},submit_last(){this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.post(route("admin.lost_product.create"),{onFinish:()=>{U().props.value.flash.message&&(this.open=!1)}})},previewImage2(o){const e=o.target.files[0];this.url2=URL.createObjectURL(e)}},setup(o){let e={last_id:"",last_name:"",last_point:"",last_rare:"",last_marks:"",last_lost_type:"",last_image:"",is_update:0,category_id:o.category_share.cat_id};return{form_last:V(e)}},mounted(){}},B={class:"mt-6 px-5"},E={class:"text-red-600",style:{"white-space":"break-spaces"}},M=t("h1",{class:"mb-2 text-lg font-bold"},"\u30AB\u30FC\u30C9\u8A2D\u5B9A",-1),S=t("hr",{class:"mb-2"},null,-1),K={class:"mb-4 border-neutral-200 border-b"},G={class:"flex border-neutral-200 items-center"},J=["src"],Q={class:"flex-1 inline-block text-sm py-1 px-2"},W={key:0},X={class:"text-red-500"},Y={class:"mb-2 text-center"},Z=["onClick"],$=["onClick"],tt={class:"text-center mb-6"},et=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),st={class:"fixed inset-0 z-10 overflow-y-auto"},ot={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},at={class:"mb-4"},rt=t("label",{for:"text1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u540D\u524D"),t("span",{class:"text-red-500"},"*")],-1),lt={class:"text-red-500 text-sm mt-1"},nt={class:"mb-4"},it=t("label",{for:"text1-2",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u5909\u63DB\u30DD\u30A4\u30F3\u30C8\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),dt={class:"text-red-500 text-sm mt-1"},ct={class:"mb-4"},ut=t("label",{for:"text1-3",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u30EC\u30A2\u5EA6"),t("span",{class:"text-red-500"},"*")],-1),mt={class:"text-red-500 text-sm mt-1"},_t={class:"mb-4"},ft=t("label",{for:"text1-3",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u70B9\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),pt={class:"text-red-500 text-sm mt-1"},bt={class:"mb-4"},ht=t("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9 "),t("span",{class:"text-red-500"},"*")],-1),gt={class:"text-center w-full"},xt=["src"],yt={class:"text-red-500 text-sm mt-1"},vt={class:"mb-6 text-center"},wt=["disabled"];function kt(o,e,a,l,u,n){const y=d("Head"),h=d("TransitionChild"),v=d("DialogPanel"),w=d("Dialog"),k=d("TransitionRoot"),C=d("AdminLayout");return m(),_(g,null,[i(y,{title:"\u30AB\u30FC\u30C9\u8A2D\u5B9A"}),i(C,null,{default:c(()=>[t("div",B,[t("div",E,r(n.get_product_status()),1),M,S,(m(!0),_(g,null,j(a.products.data,(s,Ct)=>(m(),_("div",K,[t("div",G,[t("img",{src:s.image,class:"w-16 h-16 inline-block object-contain"},null,8,J),t("div",Q,[t("div",null,r(s.name),1),t("div",null,r(s.rare),1),t("div",null,r(s.marks),1),s.lost_type?(m(),_("div",W,r(s.lost_type),1)):x("",!0),t("div",X,r(s.point)+"pt",1)])]),t("div",Y,[t("button",{type:"button",onClick:D=>n.modalProductOpen(s),class:"inline-block items-center px-10 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u7DE8\u96C6 ",8,Z),t("button",{type:"button",onClick:D=>n.destroy_product_last(s.id),class:"inline-block items-center px-10 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ",8,$)])]))),256)),t("div",tt,[t("button",{type:"button",onClick:e[0]||(e[0]=s=>n.modalProductOpen(0)),class:"inline-block items-center px-10 py-2.5 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),t("template",null,[i(k,{as:"template",show:u.open},{default:c(()=>[i(w,{as:"div",class:"relative z-10",onClose:e[8]||(e[8]=s=>u.open=!1)},{default:c(()=>[i(h,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[et]),_:1}),t("div",st,[t("div",ot,[i(h,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:c(()=>[i(v,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:c(()=>[t("form",{onSubmit:e[7]||(e[7]=I(s=>n.submit_last(),["prevent"]))},[t("div",at,[rt,p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.form_last.last_name=s),id:"text1-1",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[b,l.form_last.last_name]]),t("div",lt,r(a.errors.last_name),1)]),t("div",nt,[it,p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.form_last.last_point=s),id:"text1-2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[b,l.form_last.last_point]]),t("div",dt,r(a.errors.last_point),1)]),t("div",ct,[ut,p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.form_last.last_rare=s),id:"text1-3",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[b,l.form_last.last_rare]]),t("div",mt,r(a.errors.last_rare),1)]),t("div",_t,[ft,p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.form_last.last_marks=s),id:"text1-3",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[b,l.form_last.last_marks]]),t("div",pt,r(a.errors.last_marks),1)]),t("div",bt,[ht,t("div",gt,[u.url2?(m(),_("img",{key:0,src:u.url2,class:"inline-block mt-4 h-24"},null,8,xt)):x("",!0)]),t("input",{onChange:e[5]||(e[5]=(...s)=>n.previewImage2&&n.previewImage2(...s)),ref:"photo2",id:"file1-1",type:"file",class:"w-full"},null,544),t("div",yt,r(a.errors.last_image),1)]),t("div",vt,[t("button",{type:"submit",class:P([{"opacity-25":l.form_last.processing},"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"]),disabled:l.form_last.processing}," \u4FDD\u5B58 ",10,wt),t("button",{type:"button",onClick:e[6]||(e[6]=s=>u.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})],64)}const Vt=N(z,[["render",kt]]);export{Vt as default};
