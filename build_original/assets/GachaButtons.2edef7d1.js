import{L as h,h as u,u as c,o as g,c as l,b as t,t as _,n as o,f as p}from"./app.dc8eb5b8.js";import{_ as d}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as m}from"./PlayIcon.3fc1ad8a.js";const f={components:{Link:h,PlayIcon:m},props:{gacha:Object},data(){return{category_share:u().props.value.category_share,url_10gacha:"",url_1gacha:"",str_gacha10:"",point_10gacha:0,processing:!1}},methods:{format_number(a){return String(a).replace(/(.)(?=(\d{3})+$)/g,"$1,")},click1gacha(){if(this.processing=!0,!this.url_edit){if(this.gacha.ableCount==0){alert("\u30B5\u30FC\u30D0\u30FC\u304C\u6DF7\u307F\u5408\u3063\u3066\u304A\u308A\u307E\u3059\u3002\u5C11\u3057\u6642\u9593\u3092\u304A\u3044\u3066\u518D\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002"),this.processing=!1;return}c({id:this.gacha.id,number:1,redirect_url:this.url_1gacha}).post(route("user.gacha.start_post"),{onFinish:()=>{}}),this.processing=!1}},click10gacha(){if(this.processing=!0,!this.url_edit){if(this.gacha.ableCount==0){alert("\u30B5\u30FC\u30D0\u30FC\u304C\u6DF7\u307F\u5408\u3063\u3066\u304A\u308A\u307E\u3059\u3002\u5C11\u3057\u6642\u9593\u3092\u304A\u3044\u3066\u518D\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002"),this.processing=!1;return}c({id:this.gacha.id,number:this.gacha.count_rest<10?this.gacha.count_rest:10,redirect_url:this.url_10gacha}).post(route("user.gacha.start_post"),{onFinish:()=>{}}),this.processing=!1}}},mounted(){this.gacha.count_rest<10?(this.str_gacha10="\u5168\u3066",this.point_10gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha10="10\u9023",this.point_10gacha=10*this.gacha.point),this.url_edit||(this.url_card=route("user.gacha",this.gacha.id)+this.category_share.cat_route_appendix,this.url_10gacha=route("user.gacha.start",{id:this.gacha.id,number:this.gacha.count_rest<10?this.gacha.count_rest:10}),this.url_1gacha=route("user.gacha.start",{id:this.gacha.id,number:1}))}},x={key:0,class:"w-[84%] md:max-w-[360px] mx-auto flex justify-center py-3"},b=["disabled"],y={class:"m-2"},k={style:{"font-size":"18px"}},v=t("span",{style:{"font-size":"18px"}},"\u30AC\u30C1\u30E3\u308B",-1),C=["disabled"],w=t("div",{class:"m-2"},[t("div",null,[t("span",{style:{"font-size":"18px"}},"1\u56DE"),t("span",{style:{"font-size":"18px"}},"\u30AC\u30C1\u30E3\u308B")])],-1),z=[w];function B(a,e,r,F,s,i){return r.gacha.count_rest>0&&r.gacha.productCount!=0?(g(),l("div",x,[t("button",{onClick:e[0]||(e[0]=n=>i.click10gacha()),class:o([{"opacity-50":s.processing},"cursor-pointer m-1 rounded-[5px] bg-[#896858] text-white text-sm text-center w-[48%]"]),disabled:s.processing},[t("div",y,[t("div",null,[t("span",k,_(s.str_gacha10),1),v])])],10,b),t("button",{onClick:e[1]||(e[1]=n=>i.click1gacha()),class:o([{"opacity-50":s.processing},"cursor-pointer m-1 rounded-[5px] bg-[#60493d] text-white text-sm text-center w-[48%]"]),disabled:s.processing},z,10,C)])):p("",!0)}const N=d(f,[["render",B]]);export{N as G};
